"use strict";(self.webpackChunkheroesApp=self.webpackChunkheroesApp||[]).push([[467],{3467:(ne,T,i)=>{i.r(T),i.d(T,{HeroesModule:()=>re});var p=i(6814),a=i(6223),u=i(3403),e=i(5879),m=i(2296),h=i(617),H=i(2651),S=i(1274),Z=i(9038);function J(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"mat-list-item",8),e.NdJ("click",function(){e.CHM(t),e.oxw();const r=e.MAs(2);return e.KtG(r.toggle())}),e.TgZ(1,"mat-icon",9),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=c.$implicit;e.Q6J("routerLink",t.url),e.xp6(2),e.Oqu(t.icon),e.xp6(1),e.hij(" ",t.label," ")}}let L=(()=>{class o{constructor(){this.items=[{label:"Listado",icon:"label",url:"./list"},{label:"A\xf1adir",icon:"add",url:"./new-hero"},{label:"Buscar",icon:"search",url:"./search"}]}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-layout-page"]],decls:21,vars:1,consts:[[1,"w-full","h-full"],["mode","push",1,"w-64"],["sidenav",""],["color","primary"],["mat-icon-button","",3,"click"],[3,"routerLink","click",4,"ngFor","ngForOf"],["color","primary",1,"flex","justify-between"],["mat-button",""],[3,"routerLink","click"],["matListItemIcon",""]],template:function(n,r){if(1&n){const l=e.EpF();e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3)(4,"span"),e._uU(5,"Men\xfa"),e.qZA(),e._UZ(6,"span"),e.TgZ(7,"button",4),e.NdJ("click",function(){e.CHM(l);const U=e.MAs(2);return e.KtG(U.toggle())}),e.TgZ(8,"mat-icon"),e._uU(9,"menu"),e.qZA()()(),e.TgZ(10,"mat-nav-list"),e.YNc(11,J,4,3,"mat-list-item",5),e.qZA()(),e.TgZ(12,"mat-toolbar",6)(13,"button",4),e.NdJ("click",function(){e.CHM(l);const U=e.MAs(2);return e.KtG(U.toggle())}),e.TgZ(14,"mat-icon"),e._uU(15,"menu"),e.qZA()(),e._UZ(16,"span"),e.TgZ(17,"button",7),e._uU(18," Logout "),e.qZA()(),e.TgZ(19,"div"),e._UZ(20,"router-outlet"),e.qZA()()}2&n&&(e.xp6(11),e.Q6J("ngForOf",r.items))},dependencies:[p.sg,u.lC,u.rH,m.lW,m.RK,h.Hw,H.JX,H.TM,S.Ye,Z.Hk,Z.Tg,Z.Yt],encapsulation:2})}return o})();var C=function(o){return o.DCComics="DC Comics",o.MarvelComics="Marvel Comics",o}(C||{}),b=i(4664),q=i(6306),y=i(2096),w=i(7398);var P=i(9862);let d=(()=>{class o{constructor(t){this.httpClient=t,this.baseUrl="http://localhost:3000"}getHeroes(){return this.httpClient.get(`${this.baseUrl}/heroes`)}getHeroById(t){return this.httpClient.get(`${this.baseUrl}/heroes/${t}`).pipe((0,q.K)(n=>(0,y.of)(void 0)))}getSuggestions(t){return this.httpClient.get(`${this.baseUrl}/heroes?q=${t}&_limit=6`)}addHero(t){return this.httpClient.post(`${this.baseUrl}/heroes`,t)}updateHero(t){if(!t.id)throw Error("Se requiere propiedad id de Hero");return this.httpClient.patch(`${this.baseUrl}/heroes/${t.id}`,t)}deletedHero(t){return this.httpClient.delete(`${this.baseUrl}/heroes/${t}`).pipe((0,q.K)(n=>(0,y.of)(!1)),(0,w.U)(n=>!0))}static#e=this.\u0275fac=function(n){return new(n||o)(e.LFG(P.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var O=i(2939),g=i(9157),F=i(2032),v=i(6385),s=i(5195),x=i(3680),Y=i(8525);let _=(()=>{class o{transform(t){return t.id||t.alt_img?t.alt_img?t.alt_img:`assets/heroes/${t.id}.jpg`:"assets/no-image.png"}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275pipe=e.Yjl({name:"heroImage",type:o,pure:!0})}return o})(),I=(()=>{class o{constructor(t,n,r,l){this.herosService=t,this.activatedRoute=n,this.router=r,this.snackbar=l,this.heroForm=new a.cw({id:new a.NI(""),superhero:new a.NI("",{nonNullable:!0}),publisher:new a.NI(C.DCComics),alter_ego:new a.NI(""),first_appearance:new a.NI(""),characters:new a.NI(""),alt_img:new a.NI("")})}ngOnInit(){this.router.url.includes("edit")&&this.activatedRoute.params.pipe((0,b.w)(({id:t})=>this.herosService.getHeroById(t))).subscribe(t=>{if(!t)return this.router.navigateByUrl("/");this.heroForm.reset(t)})}get currentHero(){return this.heroForm.value}onSubmit(){if(!this.heroForm.invalid){if(this.currentHero.id)return void this.herosService.updateHero(this.currentHero).subscribe(t=>{this.showSnackbar("H\xe9roe actualizado correctamente!")});this.herosService.addHero(this.currentHero).subscribe(t=>{this.showSnackbar("H\xe9roe creado correctamente!"),this.router.navigate(["heroes/",t.id])}),console.log({formIsValid:this.heroForm.valid,value:this.heroForm.getRawValue()})}}showSnackbar(t){this.snackbar.open(t,"done",{duration:2e3})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d),e.Y36(u.gz),e.Y36(u.F0),e.Y36(O.ux))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-new-hero-page"]],decls:57,vars:7,consts:[[1,"mx-5","mt-3"],[1,"mb-3"],[1,"md:grid","grid-cols-2","gap-5"],[1,"mt-3","md:w-full"],[3,"formGroup"],[1,"grid","grid-cols-1","md:flex","gap-3"],[1,"w-full"],["matInput","","type","text","required","","formControlName","superhero"],["matInput","","type","text","required","","formControlName","alter_ego"],["matInput","","type","text","required","","formControlName","first_appearance"],["matInput","","type","text","required","","formControlName","characters"],["matInput","","type","text","required","","formControlName","alt_img"],["required","","formControlName","publisher"],["value","DC Comics"],["value","Marvel Comics"],[1,"flex","gap-3","justify-between"],["mat-raised-button","","color","primary",1,"w-44","p-3",3,"click"],["mat-raised-button","","color","warn",1,"w-44","p-3"],["alt","",3,"src"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Editar H\xe9roe: "),e.TgZ(3,"span"),e._uU(4,"Batman"),e.qZA()(),e._UZ(5,"mat-divider",1),e.TgZ(6,"div",2)(7,"mat-card",3)(8,"mat-card-content")(9,"form",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),e._uU(13," Superh\xe9roe "),e.qZA(),e._UZ(14,"input",7),e.qZA(),e.TgZ(15,"mat-form-field",6)(16,"mat-label"),e._uU(17," Alter ego "),e.qZA(),e._UZ(18,"input",8),e.qZA()(),e.TgZ(19,"div",5)(20,"mat-form-field",6)(21,"mat-label"),e._uU(22," Primera aparici\xf3n "),e.qZA(),e._UZ(23,"input",9),e.qZA(),e.TgZ(24,"mat-form-field",6)(25,"mat-label"),e._uU(26," Personajes "),e.qZA(),e._UZ(27,"input",10),e.qZA()(),e.TgZ(28,"div")(29,"mat-form-field",6)(30,"mat-label"),e._uU(31," Nombre de la imagen "),e.qZA(),e._UZ(32,"input",11),e.qZA()(),e.TgZ(33,"div")(34,"mat-form-field",6)(35,"mat-label"),e._uU(36," Editorial "),e.qZA(),e.TgZ(37,"mat-select",12)(38,"mat-option",13),e._uU(39,"DC Comics"),e.qZA(),e.TgZ(40,"mat-option",14),e._uU(41,"Marvel Comics"),e.qZA()()()()(),e.TgZ(42,"div",15)(43,"button",16),e.NdJ("click",function(){return r.onSubmit()}),e.TgZ(44,"mat-icon"),e._uU(45,"done"),e.qZA(),e._uU(46," Guardar "),e.qZA(),e.TgZ(47,"button",17)(48,"mat-icon"),e._uU(49,"delete"),e.qZA(),e._uU(50," Eliminar "),e.qZA()()()(),e.TgZ(51,"mat-card",3),e._UZ(52,"img",18),e.ALo(53,"heroImage"),e.qZA()(),e.TgZ(54,"pre"),e._uU(55),e.ALo(56,"json"),e.qZA()()),2&n&&(e.xp6(9),e.Q6J("formGroup",r.heroForm),e.xp6(43),e.Q6J("src",e.lcZ(53,3,r.currentHero),e.LSH),e.xp6(3),e.hij("        ",e.lcZ(56,5,r.currentHero),"\n    "))},dependencies:[g.KE,g.hX,F.Nt,m.lW,h.Hw,v.d,s.a8,s.dn,x.ey,Y.gD,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,p.Ts,_],encapsulation:2})}return o})();var f=i(2557),N=i(6381);function Q(o,c){if(1&o&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.superhero," ")}}function E(o,c){if(1&o&&(e.TgZ(0,"mat-option"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" No existe t\xe9rmino de busqueda: ",t.searchInput.value," ")}}function M(o,c){if(1&o&&(e.TgZ(0,"mat-chip-option",10),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.xp6(1),e.hij(" ",t," ")}}const $=function(o){return["/heroes/edit",o]},k=function(o){return["/heroes",o]};let B=(()=>{class o{constructor(t){this.heroesService=t,this.searchInput=new a.NI(""),this.heroes=[]}searchHero(){this.heroesService.getSuggestions(this.searchInput.value||"").subscribe(n=>this.heroes=n)}onSelectedOption(t){if(!t.option.value)return void(this.selectedHero=void 0);const n=t.option.value;this.searchInput.setValue(n.superhero),this.selectedHero=n}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-page"]],decls:35,vars:18,consts:[[1,"mx-10","mt-3"],[1,"w-full"],["matInput","","type","text",3,"formControl","matAutocomplete","input"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-xs",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"routerLink"],[3,"value"],[1,"text-xs"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"B\xfasqueda"),e.qZA(),e.TgZ(3,"form")(4,"mat-form-field",1)(5,"mat-label"),e._uU(6,"Buscar h\xe9roe"),e.qZA(),e.TgZ(7,"input",2),e.NdJ("input",function(){return r.searchHero()}),e.qZA(),e.TgZ(8,"mat-autocomplete",3,4),e.NdJ("optionSelected",function(A){return r.onSelectedOption(A)}),e.YNc(10,Q,2,2,"mat-option",5),e.YNc(11,E,2,1,"mat-option",6),e.qZA()()(),e._uU(12),e.ALo(13,"json"),e.TgZ(14,"mat-card")(15,"mat-card-header")(16,"mat-card-title"),e._uU(17),e.qZA(),e.TgZ(18,"mat-card-subtitle"),e._uU(19),e.qZA()(),e.TgZ(20,"mat-card-content"),e._uU(21),e._UZ(22,"br"),e._uU(23),e._UZ(24,"br"),e.TgZ(25,"mat-chip-listbox"),e.YNc(26,M,2,1,"mat-chip-option",7),e.qZA()(),e._UZ(27,"mat-divider"),e.TgZ(28,"mat-card-actions")(29,"button",8)(30,"mat-icon"),e._uU(31,"edit"),e.qZA()(),e.TgZ(32,"button",8)(33,"mat-icon"),e._uU(34,"info"),e.qZA()()()()()),2&n){const l=e.MAs(9);e.xp6(7),e.Q6J("formControl",r.searchInput)("matAutocomplete",l),e.xp6(3),e.Q6J("ngForOf",r.heroes),e.xp6(1),e.Q6J("ngIf",0===r.heroes.length&&r.searchInput.value&&r.searchInput.value.length>0),e.xp6(1),e.hij(" ",e.lcZ(13,12,r.selectedHero)," "),e.xp6(5),e.Oqu(null==r.selectedHero?null:r.selectedHero.superhero),e.xp6(2),e.Oqu(null==r.selectedHero?null:r.selectedHero.first_appearance),e.xp6(2),e.hij(" ",null==r.selectedHero?null:r.selectedHero.alter_ego," "),e.xp6(2),e.hij(" ",null==r.selectedHero?null:r.selectedHero.publisher," "),e.xp6(3),e.Q6J("ngForOf",null==r.selectedHero||null==r.selectedHero.characters?null:r.selectedHero.characters.split(",")),e.xp6(3),e.Q6J("routerLink",e.VKq(14,$,null==r.selectedHero?null:r.selectedHero.id)),e.xp6(3),e.Q6J("routerLink",e.VKq(16,k,null==r.selectedHero?null:r.selectedHero.id))}},dependencies:[p.sg,p.O5,u.rH,g.KE,g.hX,F.Nt,m.RK,h.Hw,v.d,s.a8,s.hq,s.dn,s.dk,s.$j,s.n5,f.z2,f.iO,N.XC,x.ey,N.ZL,a._Y,a.Fj,a.JJ,a.JL,a.oH,p.Ts],encapsulation:2})}return o})();function K(o,c){if(1&o&&(e.TgZ(0,"mat-chip-option",3),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.xp6(1),e.hij(" ",t," ")}}const X=function(o){return["/heroes/edit",o]},z=function(o){return["/heroes",o]};let G=(()=>{class o{ngOnInit(){if(!this.hero)throw Error("La propiedad Hero es requerida")}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["heroes-hero-card"]],inputs:{hero:"hero"},decls:23,vars:15,consts:[["mat-card-image","",3,"src","alt"],["class","text-xs",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"routerLink"],[1,"text-xs"]],template:function(n,r){1&n&&(e.TgZ(0,"mat-card"),e._UZ(1,"img",0),e.ALo(2,"heroImage"),e.TgZ(3,"mat-card-header")(4,"mat-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"mat-card-subtitle"),e._uU(7),e.qZA()(),e.TgZ(8,"mat-card-content"),e._uU(9),e._UZ(10,"br"),e._uU(11),e._UZ(12,"br"),e.TgZ(13,"mat-chip-listbox"),e.YNc(14,K,2,1,"mat-chip-option",1),e.qZA()(),e._UZ(15,"mat-divider"),e.TgZ(16,"mat-card-actions")(17,"button",2)(18,"mat-icon"),e._uU(19,"edit"),e.qZA()(),e.TgZ(20,"button",2)(21,"mat-icon"),e._uU(22,"info"),e.qZA()()()()),2&n&&(e.xp6(1),e.Q6J("src",e.lcZ(2,9,r.hero),e.LSH)("alt",r.hero.superhero),e.xp6(4),e.Oqu(r.hero.superhero),e.xp6(2),e.Oqu(r.hero.first_appearance),e.xp6(2),e.hij(" ",r.hero.alter_ego," "),e.xp6(2),e.hij(" ",r.hero.publisher," "),e.xp6(3),e.Q6J("ngForOf",r.hero.characters.split(",")),e.xp6(3),e.Q6J("routerLink",e.VKq(11,X,r.hero.id)),e.xp6(3),e.Q6J("routerLink",e.VKq(13,z,r.hero.id)))},dependencies:[p.sg,u.rH,m.RK,h.Hw,v.d,s.a8,s.hq,s.dn,s.dk,s.G2,s.$j,s.n5,f.z2,f.iO,_],encapsulation:2})}return o})();function R(o,c){if(1&o&&(e.TgZ(0,"div",2),e._UZ(1,"heroes-hero-card",3),e.qZA()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("hero",t)}}function D(o,c){}function W(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e._uU(3),e.qZA(),e._UZ(4,"img",5),e.ALo(5,"heroImage"),e.qZA(),e.TgZ(6,"div")(7,"div",4),e._uU(8,"Informaci\xf3n adicional"),e.qZA(),e.TgZ(9,"div",6)(10,"span",7),e._uU(11,"Nombre:"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"div",6)(14,"span",7),e._uU(15,"Primera aparicion:"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"div",6)(18,"span",7),e._uU(19,"Personajes anteriores:"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"div",6)(22,"span",7),e._uU(23,"Editorial:"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"div",8)(26,"button",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.goBack())}),e.TgZ(27,"mat-icon"),e._uU(28,"arrow_back"),e.qZA(),e._uU(29," Atr\xe1s "),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Oqu(t.hero.superhero),e.xp6(1),e.Q6J("src",e.lcZ(5,6,t.hero),e.LSH),e.xp6(8),e.hij(" ",t.hero.alter_ego," "),e.xp6(4),e.hij(" ",t.hero.first_appearance," "),e.xp6(4),e.hij(" ",t.hero.characters," "),e.xp6(4),e.hij(" ",t.hero.publisher," ")}}const ee=[{path:"",component:L,children:[{path:"new-hero",component:I},{path:"search",component:B},{path:"edit/:id",component:I},{path:"list",component:(()=>{class o{constructor(t){this.heroesService=t,this.heroes=[]}ngOnInit(){this.heroesService.getHeroes().subscribe(t=>this.heroes=t)}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-page"]],decls:2,vars:1,consts:[[1,"mt-5","grid","grid-cols-1","md:grid-cols-3","lg:grid-cols-6"],["class","p-3",4,"ngFor","ngForOf"],[1,"p-3"],[3,"hero"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.YNc(1,R,2,1,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",r.heroes))},dependencies:[p.sg,G],encapsulation:2})}return o})()},{path:":id",component:(()=>{class o{constructor(t,n,r){this.heroesService=t,this.activatedRoute=n,this.router=r}ngOnInit(){this.activatedRoute.params.pipe((0,b.w)(({id:t})=>this.heroesService.getHeroById(t))).subscribe(t=>{if(!t)return this.router.navigate(["/heroes/list"]);this.hero=t})}goBack(){this.router.navigateByUrl("heroes/list")}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(d),e.Y36(u.gz),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-hero-page"]],decls:3,vars:2,consts:[["divLoading",""],["class","grid grid-cols-1 space-y-3 mt-5 mx-5 lg:grid-cols-2 lg:space-y-0",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","space-y-3","mt-5","mx-5","lg:grid-cols-2","lg:space-y-0"],[1,"grid","grid-row-2","justify-center"],[1,"text-3xl","font-bold","text-center"],["alt","hero.superhero",1,"object-cover","h-[600px]",3,"src"],[1,"text-lg"],[1,"font-semibold"],[1,"mt-5"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,r){if(1&n&&(e.YNc(0,D,0,0,"ng-template",null,0,e.W1O),e.YNc(2,W,30,8,"div",1)),2&n){const l=e.MAs(1);e.xp6(2),e.Q6J("ngIf",r.hero)("ngIfElse",l)}},dependencies:[p.O5,m.lW,h.Hw,_],encapsulation:2})}return o})()},{path:"**",redirectTo:"list"}]}];let te=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(ee),u.Bz]})}return o})();var oe=i(6889);let re=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[p.ez,te,oe.q,a.UX]})}return o})()}}]);